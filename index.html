<!DOCTYPE html>
<html lang="en">

    <head>
        <title>York Lab App</title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
        <link rel="apple-touch-icon" sizes="57x57" href="/images/apple-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60" href="/images/apple-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72" href="/images/apple-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76" href="/images/apple-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114" href="/images/apple-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120" href="/images/apple-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144" href="/images/apple-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152" href="/images/apple-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-icon-180x180.png">
        <link rel="icon" type="image/png" sizes="192x192" href="/images/android-icon-192x192.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
        <link rel="manifest" href="/manifest.json">
        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="msapplication-TileImage" content="/images/ms-icon-144x144.png">
        <meta name="theme-color" content="#ffffff">
        <script src="https://apis.google.com/js/api.js"></script>
        <link rel="stylesheet" href="css/style.css" />
    </head>

    <body ng-app="YorkResourcesApp" ng-controller="ApplicationController">
        <!-------------------------------------------------------->
        <!-------------- The Welcome/Login screen ---------------->
        <div id="overlay_background" class="overlay-background">
            <div id="welcome_dialog">
                <h1 style="margin-top:-6px">Welcome</h1>
                <!--<img src="images/logo.png" style="width: 50%;margin: auto;margin-top: 30px;">-->
                <p>This is a place where any student can post anything they think might help other students in the york community.</p>
                <p>Some things to keep in mind:</p>
                <md-button ng-click="openOnboardingDialog()">onboard</md-button>
                <ul>
                    <li>This website is accessible by anyone at York, so don't post anything you wouldn't want teachers and staff to see!</li>
                    <li>Participation is esensial, you'll need to contribute something at least every semester to keep accesing other student's work.</li>
                </ul>
                <!--<p>Sign in with your me@york.org email account.</p>-->
                <div class="signin-button-container">
                    <div id="signin_button" class="signin-button">
                        <div class="signin-icon"><svg style="" viewBox="0, 0, 40, 40">
                            <path d="M 22,20 h15 a17,17 0 1,1 -8,-14" fill="none" stroke="#4885ed" stroke-width="8"></path>
                        </svg></div>
                        <p class="signin-text">Sign in</p>
                    </div>
                    <md-progress-circular id="signin_spinner" class="md-accent" md-mode="indeterminate" md-diameter="36"></md-progress-circular>
                </div>
                <md-button style="display:none" id="dat_button" ng-click="::gotoRoute('/meme')">meme</md-button>
            </div>
        </div>
        <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/material-design-iconic-font/2.2.0/css/material-design-iconic-font.min.css" media="none" onload="if(media!='all')media='all'">
        <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700,400italic|Roboto+Mono|Roboto+Slab|Material+Icons" rel="stylesheet" media="none" onload="if(media!='all')media='all'">
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.js"></script>
        <!-------------------------------------------------------->
        <!------------------- The top toolbar -------------------->
        <md-toolbar toolbar-top-content class="md-whiteframe-z2 ng-cloak toolbar-top"></md-toolbar>
        <!-------------------------------------------------------->
        <!-------------------------------------------------------->

        <div class="horizontalContainer"  ng-cloak>
            <!---------------------------------------------------->
            <md-sidenav side-nav-insides class="side-nav md-sidenav-left md-whiteframe-z2 sidenav-overlay" md-component-id="sidenav_overlay"></md-sidenav>
            <side-nav-insides class="side-nav md-sidenav-left sidenav-inline" ng-class="{'side-nav-open' : globals.sidenavIsOpen === true && $mdMedia('gt-sm'), 'xs': $mdMedia('xs'), 'sm': $mdMedia('sm')}"></side-nav-insides>
            <!----- The content, ie posts, resources, etc. ------->
            <div id="content_container" ng-class="{'xs': $mdMedia('xs'), 'sm': $mdMedia('sm'), 'gt-sm': $mdMedia('gt-sm')}" class="">
                <div id="resize_sensor" style="height: 0px; visibility:hidden; width: 100%; overflow-x: scroll;"><div style="width: 201vw;"></div></div>
                <span ng-show="devMode">
                        <md-button ng-click="consoleLog(myInfo, true)">
                            Log My Info
                        </md-button>
                        <md-button ng-click="consoleLog({'string': queryPropertyString, 'properties':queryProperties}, true)">
                            Log Search Query string
                        </md-button>
                        <md-button ng-click="consoleLog({queryParam: queryParam, query: queryParam.q, classParam: classParam, selectedClass: selectedClass, idParam: idParam}, true)">
                            Log URL Paramiters
                        </md-button>
                        <md-button ng-click="consoleLog(visiblePosts)">
                            Log Visible Posts Array
                        </md-button>
                        <md-button ng-click="consoleLog(allPosts)">
                            Log All Posts Array
                        </md-button>
                </span>
                <add-bar-top></add-bar-top>
                <add-lower-button></add-lower-button>
                <md-grid-list md-cols-xs="1" md-cols-sm="2" md-cols-md="4" md-cols-gt-md="6" md-row-height="1" md-gutter="12px" md-gutter-gt-sm="8px">
                    <md-grid-tile class="post-card raise-on-hover" calculate-card-height="Post" md-rowspan="{{Post.cardHeight}}" class="post-card raise-on-hover" md-colspan="1" ng-repeat="Post in visiblePosts track by Post.Id | orderBy: 'UpdateDate':true">
                        <md-button style="position: absolute; top: -14px; right: -6px; z-index: 1000" class="md-icon-button md-accent" ng-click="Post.Bookmarked !== Post.Bookmarked">-->
                            <md-icon class="postBookmarkIcon" ng-hide="Post.Bookmarked === false" style="text-shadow: 0px 1px 5px rgba(0,0,0,0.6);">bookmark</md-icon>
                            <md-icon class="preBookmarkIcon" ng-hide="Post.Bookmarked === true" style="color: rgba(255, 255, 255, 0.6); text-shadow: 0px 1px 5px rgba(0,0,0,0.6)">bookmark_border</md-icon>
                        </md-button>
                        <div>{{Post.Bookmarked}}</div>
                        <div class="post-card-header" md-ink-ripple="{{Post.Type !== 'noLink'}}" ng-click="::openLink(Post.Link)" ng-class="{ 'noLink' : Post.Type === 'noLink' }">
                            <img ng-src="{{::Post.PreviewImage}}" class="post-card-image" ng-hide="::Post.Link == ''">
                            <div class="post-card-image-gradient">
                                <p class="post-card-link-text" ng-hide="::Post.Link == ''">
                                    <md-icon style="color:White; font-size: 16px;" class="small-icon">language</md-icon><span> {{::Post.Link}}</span>
                                </p>
                                <div class="post-card-metadata-text">
                                    <p style="margin: 4px 0 0 0;">
                                        <md-icon class="small-icon" style="color:white">event</md-icon><span style="margin-right:10px; font-weight:700; font-size:14px"> {{::Post.CreationDate | date : "m/dd/yyyy"}}</span>
                                        <md-icon class="small-icon" style="color:white">people</md-icon><span style="font-weight:700; font-size:14px"> {{::Post.Class.Name}}</span>
                                    </p>
                                    <p style="margin: 0 0 0 0; font-size: 12px; font-weight:500;" ng-hide="Post.Tags.length < 1">
                                        <md-icon class="small-icon" style="color:white">style</md-icon><span>{{Post.Tags.join(', ')}}</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div ng-click="::newPost(Post,'view', $event)" style="cursor:pointer">
                        <p class="post-card-title md-title">{{::Post.Title}}</p>
                        <p class="post-card-creator md-subhead"><span>By {{::Post.Creator.Name}}</span><span style="float:right">(<md-icon class="small-icon">school</md-icon> {{Post.Creator.ClassOf}})</span></p>
                        <p id="post_card_description" class="md-body-1" ng-bind-html="Post.Description" show-more-on-overflow></p>
                        <div class="post-card-description-gradient" ng-style="{'background-image': 'linear-gradient(rgba(0, 0, 0, 0) 0%, '+Post.Class.Color+' 85%'}"><md-icon style="margin-bottom:2px">keyboard_arrow_down</md-icon></div>
                        </div>
                        <md-card-actions layout="row" layout-align="start center">
                            <md-button id="like_thumb_button" aria-label="Like">
                                <md-icon style="display:none">thumb_down</md-icon>
                                <p class="like-counter">16</p>
                                <md-icon style="margin-top: -6px;">thumb_up</md-icon>
                            </md-button>
                            <md-button class="md-icon-button" id="flag_button" area-label="Flag" style="margin:0" ng-hide="::Post.Creator.Email === myInfo.Email">
                                <md-icon>flag</md-icon>
                            </md-button>
                            <md-button class="md-icon-button" id="flag_button" area-label="Flag" style="margin:0" ng-show="::Post.Flagged === true" ng-click="::unFlagPost($event,Post,$index)">
                                <md-icon class="md-warn">flag</md-icon>
                            </md-button>
                            <md-menu md-position-mode="target" md-offset="7 0" style="padding:0px">
                                <md-button ng-click="::$mdOpenMenu($event)" ng-show="::Post.Creator.Email === myInfo.Email" class="md-icon-button" style="margin:0">
                                    <md-icon>more_vert</md-icon>
                                </md-button>
                                <md-menu-content>
                                    <md-menu-item ng-hide="::Post.Flagged === true">
                                        <md-button ng-click="::flagPost($event,Post,$index)">
                                            <md-icon>flag</md-icon>Flag</md-button>
                                    </md-menu-item>
                                    <md-menu-item>
                                        <md-button ng-click="::confirmDelete($event,Post,$index)">
                                            <md-icon>delete</md-icon>Delete</md-button>
                                    </md-menu-item>
                                    <md-menu-item>
                                        <md-button ng-click="::newPost(Post,'update')">
                                            <md-icon>edit</md-icon>Edit</md-button>
                                    </md-menu-item>
                                    <md-menu-item ng-show="devMode">
                                        <md-button ng-click="::logPostToConsole(Post,$index)">
                                            <md-icon>edit</md-icon>Console Log Post</md-button>
                                    </md-menu-item>
                                </md-menu-content>
                            </md-menu>
                            <md-button id="open_button" ng-hide="::Post.Link == ''" class="md-button md-accent" ng-click="::openLink(Post.Link)" aria-label="Open resource">Open Resource</md-button>
                        </md-card-actions>
                    </md-grid-tile>
                </md-grid-list>
                    <!--<md-card class="post-card raise-on-hover" ng-repeat="Post in visiblePosts track by Post.Id | orderBy: 'UpdateDate':true" ng-style="{'background-color': Post.Class.Color}">-->
                    <!--    <div>{{Post.Title}}</div>-->
                    <!--    <div>{{Post.Description}}</div>-->
                    <!--</md-card>-->
                <!--</div>-->
                <!--<div angular-grid="visiblePosts" id="postsGrid" ag-options="angularGridOptions" ag-id="posts">-->
                <!--    <md-card class="post-card raise-on-hover" ng-repeat="Post in visiblePosts track by Post.Id | orderBy: 'UpdateDate':true" ng-style="{'background-color': Post.Class.Color}">-->
                <!--        <md-button style="position: absolute; top: -14px; right: -6px; z-index: 1000" class="md-icon-button md-accent" ng-click="Post.Bookmarked !== Post.Bookmarked">-->
                <!--            <md-icon class="postBookmarkIcon" ng-hide="Post.Bookmarked === false" style="text-shadow: 0px 1px 5px rgba(0,0,0,0.6);">bookmark</md-icon>-->
                <!--            <md-icon class="preBookmarkIcon" ng-hide="Post.Bookmarked === true" style="color: rgba(255, 255, 255, 0.6); text-shadow: 0px 1px 5px rgba(0,0,0,0.6)">bookmark_border</md-icon>-->
                <!--        </md-button>-->
                <!--        <div>{{Post.Bookmarked}}</div>-->
                <!--        <div class="post-card-header" md-ink-ripple="{{Post.Type !== 'noLink'}}" ng-click="::openLink(Post.Link)" ng-class="{ 'noLink' : Post.Type === 'noLink' }">-->
                <!--            <img ng-src="{{::Post.PreviewImage}}" class="post-card-image" ng-hide="::Post.Link == ''">-->
                <!--            <div class="post-card-image-gradient">-->
                <!--                <p class="post-card-link-text" ng-hide="::Post.Link == ''">-->
                <!--                    <md-icon style="color:White; font-size: 16px;" class="small-icon">language</md-icon><span> {{::Post.Link}}</span>-->
                <!--                </p>-->
                <!--                <div class="post-card-metadata-text">-->
                <!--                    <p style="margin: 4px 0 0 0;">-->
                <!--                        <md-icon class="small-icon" style="color:white">event</md-icon><span style="margin-right:10px; font-weight:700; font-size:14px"> {{::Post.CreationDate | date : "m/dd/yyyy"}}</span>-->
                <!--                        <md-icon class="small-icon" style="color:white">people</md-icon><span style="font-weight:700; font-size:14px"> {{::Post.Class.Name}}</span>-->
                <!--                    </p>-->
                <!--                    <p style="margin: 0 0 0 0; font-size: 12px; font-weight:500;" ng-hide="Post.Tags.length < 1">-->
                <!--                        <md-icon class="small-icon" style="color:white">style</md-icon><span>{{Post.Tags.join(', ')}}</span>-->
                <!--                    </p>-->
                <!--                </div>-->
                <!--            </div>-->
                <!--        </div>-->
                <!--        <div ng-click="::newPost(Post,'view', $event)" style="cursor:pointer">-->
                <!--        <p class="post-card-title md-title">{{::Post.Title}}</p>-->
                <!--        <p class="post-card-creator md-subhead"><span>By {{::Post.Creator.Name}}</span><span style="float:right">(<md-icon class="small-icon">school</md-icon> {{Post.Creator.ClassOf}})</span></p>-->
                <!--        <p id="post_card_description" class="md-body-1" ng-bind-html="Post.Description" show-more-on-overflow></p>-->
                <!--        <div class="post-card-description-gradient" ng-style="{'background-image': 'linear-gradient(rgba(0, 0, 0, 0) 0%, '+Post.Class.Color+' 85%'}"><md-icon style="margin-bottom:2px">keyboard_arrow_down</md-icon></div>-->
                <!--        </div>-->
                <!--        <md-card-actions layout="row" layout-align="start center">-->
                <!--            <md-button id="like_thumb_button" aria-label="Like">-->
                <!--                <md-icon style="display:none">thumb_down</md-icon>-->
                <!--                <p class="like-counter">16</p>-->
                <!--                <md-icon style="margin-top: -6px;">thumb_up</md-icon>-->
                <!--            </md-button>-->
                <!--            <md-button class="md-icon-button" id="flag_button" area-label="Flag" style="margin:0" ng-hide="::Post.Creator.Email === myInfo.Email">-->
                <!--                <md-icon>flag</md-icon>-->
                <!--            </md-button>-->
                <!--            <md-button class="md-icon-button" id="flag_button" area-label="Flag" style="margin:0" ng-show="::Post.Flagged === true" ng-click="::unFlagPost($event,Post,$index)">-->
                <!--                <md-icon class="md-warn">flag</md-icon>-->
                <!--            </md-button>-->
                <!--            <md-menu md-position-mode="target" md-offset="7 0" style="padding:0px">-->
                <!--                <md-button ng-click="::$mdOpenMenu($event)" ng-show="::Post.Creator.Email === myInfo.Email" class="md-icon-button" style="margin:0">-->
                <!--                    <md-icon>more_vert</md-icon>-->
                <!--                </md-button>-->
                <!--                <md-menu-content>-->
                <!--                    <md-menu-item ng-hide="::Post.Flagged === true">-->
                <!--                        <md-button ng-click="::flagPost($event,Post,$index)">-->
                <!--                            <md-icon>flag</md-icon>Flag</md-button>-->
                <!--                    </md-menu-item>-->
                <!--                    <md-menu-item>-->
                <!--                        <md-button ng-click="::confirmDelete($event,Post,$index)">-->
                <!--                            <md-icon>delete</md-icon>Delete</md-button>-->
                <!--                    </md-menu-item>-->
                <!--                    <md-menu-item>-->
                <!--                        <md-button ng-click="::newPost(Post,'update')">-->
                <!--                            <md-icon>edit</md-icon>Edit</md-button>-->
                <!--                    </md-menu-item>-->
                <!--                    <md-menu-item ng-show="devMode">-->
                <!--                        <md-button ng-click="::logPostToConsole(Post,$index)">-->
                <!--                            <md-icon>edit</md-icon>Console Log Post</md-button>-->
                <!--                    </md-menu-item>-->
                <!--                </md-menu-content>-->
                <!--            </md-menu>-->
                <!--            <md-button id="open_button" ng-hide="::Post.Link == ''" class="md-button md-accent" ng-click="::openLink(Post.Link)" aria-label="Open resource">Open Resource</md-button>-->
                <!--        </md-card-actions>-->
                <!--    </md-card>-->
                <!--    post-card-->
                <!--</div>-->
                <div style="width: 100%; height: 80px; postion: relative">
                    <md-progress-circular id="loading_spinner" class="md-accent" style="display: none;" md-mode="indeterminate" md-diameter="30px"></md-progress-circular>
                </div>
            </div>
            <!--<span class="unselectable default-mouse" style="font-size: 150%; background-color:rgba(0,0,0,0.5); position:fixed; bottom:0px;right:0px; color:white;">PRE-ALPHA version</span>-->
        </div>
        <!-------------------------------------------------------->
        <!---------------------- Libraries ----------------------->
        <script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular-animate.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular-aria.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular-messages.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular-sanitize.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular-route.js"></script>
        <script src="Libraries/angular-grid.js"></script>
        <script type="text/javascript" src="Libraries/detect-element-resize.js"></script>


        <!-- Main Scripts -->
        <script src="js/app.js"></script>
        <script src="js/generalFunctions.js"></script>

        <!-- Directives -->
        <script src="directives/directives.js"></script>

        <!-- Services -->
        <script src="js/Services/authorizationService.js"></script>
        <script src="js/Services/googleDriveService.js"></script>

        <!-- Controllers -->
        <script src="js/Controllers/mainControllerFunctions.js"></script>
        <script src="js/Controllers/subControllerFunctions.js"></script>
        <script src="js/Controllers/newPostController.js"></script>

        <!--<canvas style="display:none;position: absolute;pointer-events: none;" width="400" height="260" id="image_renderer">-->
    </body>
    <link rel="stylesheet" href="css/toolbarTop.css" />
    <link rel="stylesheet" href="css/searchbar.css" />
    <link rel="stylesheet" href="css/sideNav.css" />
    <link rel="stylesheet" href="css/postCard.css" />
    <link rel="stylesheet" href="css/newPost.css" />
    <link rel="stylesheet" href="css/help.css" />
</html>