<md-dialog ng-cloak id="new_post_dialog" ng-style="{'background-color': Class.Color}">
   <md-toolbar id="dialog_header">
      <div class="md-toolbar-tools">
         <div class="md-icon-button">
            <md-icon>group</md-icon>
         </div>
         <h2><span>Title</span></h2>
         <span flex></span>
      </div>
      <img ng-src="{{Post.PreviewImage}}" id="header_image">
      <div class="newPostImgGradient" flex layout="column">
         <span ng-hide="operation === 'view'">
         <md-input-container md-no-float id="newPostLinkInput">
            <input id="newPostLinkInputTxt" ng-model="Post.Link" ng-model-options="{ debounce: 500 }" style="color:white" placeholder="http://" ng-change="findType()" type="text">
         </md-input-container>
         <md-menu md-position-mode="target-right target" md-offset="0 -45">
            <md-button ng-click="$mdOpenMenu($event)" class="md-icon-button">
               <md-icon md-menu-origin>attach_file</md-icon>
            </md-button>
            <md-menu-content>
               <md-menu-item>
                  <md-button><span flex>Upload file</span>
         <md-icon style="margin: auto 0 auto 16px">file_upload</md-icon>
         </md-button>
         </md-menu-item>
         <md-menu-item>
            <md-button><span flex>Attatch drive file</span><img md-menu-align-target class="unselectable" style="width:22px; height:22px; float:right; margin: auto 0 auto 16px; opacity: 0.54;" src="images/drive_icon.svg"></md-button>
         </md-menu-item>
         </md-menu-content>
         </md-menu>
         </span>
         <span ng-show="operation === 'view'" style="width:100%">
            <p class="post-card-link-text" ng-hide="::Post.Link == ''" style="position:absolute">
               <md-icon style="color:White; font-size: 16px;" class="small-icon">language</md-icon>
               <span> {{::Post.Link}}</span>
            </p>
            <div class="post-card-metadata-text">
               <!--<p style="margin: 4px 0 0 0;">-->
               <md-icon class="small-icon" style="color:white">event</md-icon><span style="margin-right:10px; font-weight:700; font-size:14px"> {{::Post.CreationDate | date : "m/dd/yyyy"}}</span>
               <md-icon class="small-icon" style="color:white">people</md-icon><span style="font-weight:700; font-size:14px"> {{::Post.Class.Name}}</span>
               <!--</p>-->
         </div>
         </span>
      </div>
      <md-progress-linear class="link-loading" md-mode="indeterminate" ng-disabled="!previewLoading"></md-progress-linear>
   </md-toolbar>
   <md-dialog-content id="dialog_scroll">
      <div flex layout="row">
         <class-select-menu ng-hide="operation === 'view'"></class-select-menu>
         <div style="width:6px" ng-show="operation === 'view'"></div>
         <md-chips ng-model="Post.Tags" flex md-separator-keys="[32,188,13]" ng-hide="operation === 'view' && Post.Tags.length === 0" readonly="operation === 'view'">
            <input type="text" placeholder="Add a tag">
         </md-chips>
      </div>
      <div class="md-dialog-content">
         <input ng-model="Post.Title" ng-readonly="operation === 'view'" class="newPostTitle md-title" placeholder="Title" md-autofocus>
         <div id="DescriptionTxt" ng-model="Post.Description" class="newPostBody" contenteditable></div>
      </div>
   </md-dialog-content>
   <md-dialog-actions ng-hide="operation === 'view'" layout="row">
      <md-button id="New_Post_Submit" ng-click="isReadyToSubmit()" class="md-raised md-acc">Submit</md-button>
      <md-button class="text-formating-button md-icon-button " style="margin: 0 -6px 0 0; padding: 0;">
         <md-icon style="font-size:18px; line-height: 24px;">format_bold</md-icon>
      </md-button>
      <md-button class="text-formating-button md-icon-button " style="margin: 0 -6px 0 0; padding: 0;">
         <md-icon style="font-size:18px; line-height: 24px;">format_italic</md-icon>
      </md-button>
      <md-button class="text-formating-button md-icon-button " style="margin: 0 -6px 0 0; padding: 0;">
         <md-icon style="font-size:18px; line-height: 24px;">format_underline</md-icon>
      </md-button>
      <md-button class="md-icon-button text-format-button" style="margin: 0 -6px 0 0; padding: 0;">
         <md-icon style="font-size:18px;line-height: 24px;">format_list_bulleted</md-icon>
      </md-button>
      <span flex></span>
      <md-button class="md-icon-button text-format-button hover_black" style="margin-right:0px;" ng-click="closeDialog()">
         <md-icon ng-show="operation == 'new'" style="font-size:26px; line-height: 25px">delete</md-icon>
         <md-icon ng-hide="operation == 'new'" style="font-size:26px; line-height: 25px">close</md-icon>
      </md-button>
   </md-dialog-actions>
   <md-dialog-actions ng-show="operation === 'view'" layout="row">
      <md-button id="like_thumb_button" aria-label="Like">
         <md-icon style="display:none">thumb_down</md-icon>
         <p class="like-counter">16</p>
         <md-icon style="margin-top: -6px;">thumb_up</md-icon>
      </md-button>
      <md-button class="md-icon-button" id="flag_button" area-label="Flag" style="margin:0" ng-hide="Post.Creator.Email === myInfo.Email || Post.Flagged === 'false'">
         <md-icon>flag</md-icon>
      </md-button>
      <md-button class="md-icon-button" id="flag_button" area-label="Flag" style="margin:0" ng-show="Post.Creator.Email === myInfo.Email || Post.Flagged === 'true'" ng-click="::unFlagPost($event,Post,$index)">
         <md-icon class="md-warn">flag</md-icon>
      </md-button>
      <md-button class="md-icon-button" ng-click="::flagPost($event,Post,$index)">
         <md-icon>flag</md-icon>
      </md-button>
      <md-button class="md-icon-button" ng-click="::newPost(Post,'update')">
         <md-icon>edit</md-icon>
      </md-button>
      <md-button class="md-icon-button" ng-click="::confirmDelete($event,Post,$index)">
         <md-icon>delete</md-icon>
      </md-button>
      <md-button class="md-icon-button" ng-show="devMode" ng-click="::logPostToConsole(Post,$index)">
         <md-icon>edit</md-icon>Console Log Post</md-button>
      <span flex></span>
      <md-button class="md-icon-button text-format-button hover_black" style="margin-right:0px;" ng-click="closeDialog()">
         <md-icon style="font-size:26px; line-height: 25px">close</md-icon>
      </md-button>
   </md-dialog-actions>
</md-dialog>